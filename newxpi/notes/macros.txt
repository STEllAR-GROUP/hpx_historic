to build a component with a result action, I had to add these macros:
HPX_REGISTER_ACTION_EX(
    hpx::lcos::base_lco_with_value<unsigned long>::set_result_action,
    set_result_action_long);
HPX_REGISTER_ACTION_EX(
    hpx::lcos::base_lco_with_value<unsigned long>::get_value_action,
    get_value_action_long);
HPX_DEFINE_GET_COMPONENT_TYPE_STATIC(
    hpx::lcos::base_lco_with_value<unsigned long>,
    hpx::components::component_base_lco_with_value);

taken from HPX's accumulator code. replace unsigned long, long, with the type you're returning. this may not be necessary for types already defined in HPX, however with user defined types you have to include this for your type.
